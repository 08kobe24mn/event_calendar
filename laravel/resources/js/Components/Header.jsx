/** @jsxImportSource @emotion/react */
import { jsx, css } from '@emotion/react';
import Dropdown from './Dropdown';
import iconImage from '../../images/no_icon.png';

export const Header = (props) => {
    const { user } = props;
    if (user.image === null) {
        user.image = iconImage;
    }

    const HEADER_HEIGHT = '55px';
    const container = css`
        background-color: #f4f0c5;
        display: flex;
        justify-content: space-between;
        height: ${HEADER_HEIGHT};
        width: 100%;
    `;

    const svgWrap = css`
        width: fit-content;
    `

    const userIconWrap = css`
        display: flex;
        align-items: center;
        &:hover {
            cursor: pointer;
        }
    `
    const userIcon = css`
        border-radius: 50%;
        height: ${HEADER_HEIGHT};
        width: ${HEADER_HEIGHT};
    `

    const TRIANGLE_WIDTH = '7px';
    const userIconTriangle = css`
        width: 0;
        height: 0;
        border-left: ${TRIANGLE_WIDTH} solid transparent;
        border-right: ${TRIANGLE_WIDTH} solid transparent;
        border-top: ${TRIANGLE_WIDTH} solid #000000;
        margin-right: 5px;
    `

    return (
        <>
            <div css={container}>
                <div css={svgWrap}>
                    <a href='/index'>
                        <svg width="100" height="55" viewBox="0 0 100 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18.5787 19.2C17.512 19.2 16.6987 18.9 16.1387 18.3C15.5787 17.6867 15.2987 16.8133 15.2987 15.68V8.32C15.2987 7.18667 15.5787 6.32 16.1387 5.72C16.6987 5.10667 17.512 4.8 18.5787 4.8C19.6453 4.8 20.4587 5.10667 21.0187 5.72C21.5787 6.32 21.8587 7.18667 21.8587 8.32V9.52H19.7787V8.18C19.7787 7.26 19.3987 6.8 18.6387 6.8C17.8787 6.8 17.4987 7.26 17.4987 8.18V15.84C17.4987 16.7467 17.8787 17.2 18.6387 17.2C19.3987 17.2 19.7787 16.7467 19.7787 15.84V13.1H18.6787V11.1H21.8587V15.68C21.8587 16.8133 21.5787 17.6867 21.0187 18.3C20.4587 18.9 19.6453 19.2 18.5787 19.2Z" fill="#FF7A00"/>
                            <path d="M23.2712 5H25.4712V19H23.2712V5ZM26.6788 17.04L30.7588 7H26.8788V5H33.1188V6.96L29.0388 17H33.1188V19H26.6788V17.04ZM37.5649 19.2C36.4983 19.2 35.6849 18.9 35.1249 18.3C34.5649 17.6867 34.2849 16.8133 34.2849 15.68V5H36.4849V15.84C36.4849 16.32 36.5783 16.6667 36.7649 16.88C36.9649 17.0933 37.2449 17.2 37.6049 17.2C37.9649 17.2 38.2383 17.0933 38.4249 16.88C38.6249 16.6667 38.7249 16.32 38.7249 15.84V5H40.8449V15.68C40.8449 16.8133 40.5649 17.6867 40.0049 18.3C39.4449 18.9 38.6316 19.2 37.5649 19.2ZM42.4118 5H45.5518L46.9518 15.02H46.9918L48.3918 5H51.5318V19H49.4518V8.4H49.4118L47.8118 19H45.9718L44.3718 8.4H44.3318V19H42.4118V5ZM56.3535 19.2C55.2735 19.2 54.4468 18.8933 53.8735 18.28C53.3002 17.6667 53.0135 16.8 53.0135 15.68V8.32C53.0135 7.2 53.3002 6.33333 53.8735 5.72C54.4468 5.10667 55.2735 4.8 56.3535 4.8C57.4335 4.8 58.2602 5.10667 58.8335 5.72C59.4068 6.33333 59.6935 7.2 59.6935 8.32V15.68C59.6935 16.8 59.4068 17.6667 58.8335 18.28C58.2602 18.8933 57.4335 19.2 56.3535 19.2ZM56.3535 17.2C57.1135 17.2 57.4935 16.74 57.4935 15.82V8.18C57.4935 7.26 57.1135 6.8 56.3535 6.8C55.5935 6.8 55.2135 7.26 55.2135 8.18V15.82C55.2135 16.74 55.5935 17.2 56.3535 17.2Z" fill="black"/>
                            <path d="M23.4921 22.2174H29.4921V24.2174H25.6921V27.9174H28.7121V29.9174H25.6921V34.2174H29.4921V36.2174H23.4921V22.2174Z" fill="#FF7A00"/>
                            <path d="M30.1777 22.2174H32.3977L33.8377 33.0774H33.8777L35.3177 22.2174H37.3377L35.2177 36.2174H32.2977L30.1777 22.2174ZM38.3945 22.2174H44.3945V24.2174H40.5945V27.9174H43.6145V29.9174H40.5945V34.2174H44.3945V36.2174H38.3945V22.2174ZM45.6601 22.2174H48.4201L50.5601 30.5974H50.6001V22.2174H52.5601V36.2174H50.3001L47.6601 25.9974H47.6201V36.2174H45.6601V22.2174ZM55.9152 24.2174H53.6152V22.2174H60.4152V24.2174H58.1152V36.2174H55.9152V24.2174Z" fill="black"/>
                            <path d="M35.1505 53.6348C34.0971 53.6348 33.2905 53.3348 32.7305 52.7348C32.1838 52.1348 31.9105 51.2881 31.9105 50.1948V42.6748C31.9105 41.5814 32.1838 40.7348 32.7305 40.1348C33.2905 39.5348 34.0971 39.2348 35.1505 39.2348C36.2038 39.2348 37.0038 39.5348 37.5505 40.1348C38.1105 40.7348 38.3905 41.5814 38.3905 42.6748V44.1548H36.3105V42.5348C36.3105 41.6681 35.9438 41.2348 35.2105 41.2348C34.4771 41.2348 34.1105 41.6681 34.1105 42.5348V50.3548C34.1105 51.2081 34.4771 51.6348 35.2105 51.6348C35.9438 51.6348 36.3105 51.2081 36.3105 50.3548V48.2148H38.3905V50.1948C38.3905 51.2881 38.1105 52.1348 37.5505 52.7348C37.0038 53.3348 36.2038 53.6348 35.1505 53.6348Z" fill="#FF7A00"/>
                            <path d="M41.4067 39.4348H44.3867L46.6667 53.4348H44.4667L44.0667 50.6548V50.6948H41.5667L41.1667 53.4348H39.1267L41.4067 39.4348ZM43.8067 48.7948L42.8267 41.8748H42.7867L41.8267 48.7948H43.8067ZM47.7341 39.4348H49.9341V51.4348H53.5541V53.4348H47.7341V39.4348ZM54.6091 39.4348H60.6091V41.4348H56.8091V45.1348H59.8291V47.1348H56.8091V51.4348H60.6091V53.4348H54.6091V39.4348ZM61.8747 39.4348H64.6347L66.7747 47.8148H66.8147V39.4348H68.7747V53.4348H66.5147L63.8747 43.2148H63.8347V53.4348H61.8747V39.4348ZM70.4098 39.4348H73.7698C74.8632 39.4348 75.6832 39.7281 76.2298 40.3148C76.7765 40.9014 77.0498 41.7614 77.0498 42.8948V49.9748C77.0498 51.1081 76.7765 51.9681 76.2298 52.5548C75.6832 53.1414 74.8632 53.4348 73.7698 53.4348H70.4098V39.4348ZM73.7298 51.4348C74.0898 51.4348 74.3632 51.3281 74.5498 51.1148C74.7498 50.9014 74.8498 50.5548 74.8498 50.0748V42.7948C74.8498 42.3148 74.7498 41.9681 74.5498 41.7548C74.3632 41.5414 74.0898 41.4348 73.7298 41.4348H72.6098V51.4348H73.7298ZM80.1958 39.4348H83.1758L85.4558 53.4348H83.2558L82.8558 50.6548V50.6948H80.3558L79.9558 53.4348H77.9158L80.1958 39.4348ZM82.5958 48.7948L81.6158 41.8748H81.5758L80.6158 48.7948H82.5958ZM86.5231 39.4348H89.7831C90.9165 39.4348 91.7431 39.7014 92.2631 40.2348C92.7831 40.7548 93.0431 41.5614 93.0431 42.6548V43.5148C93.0431 44.9681 92.5631 45.8881 91.6031 46.2748V46.3148C92.1365 46.4748 92.5098 46.8014 92.7231 47.2948C92.9498 47.7881 93.0631 48.4481 93.0631 49.2748V51.7348C93.0631 52.1348 93.0765 52.4614 93.1031 52.7148C93.1298 52.9548 93.1965 53.1948 93.3031 53.4348H91.0631C90.9831 53.2081 90.9298 52.9948 90.9031 52.7948C90.8765 52.5948 90.8631 52.2348 90.8631 51.7148V49.1548C90.8631 48.5148 90.7565 48.0681 90.5431 47.8148C90.3431 47.5614 89.9898 47.4348 89.4831 47.4348H88.7231V53.4348H86.5231V39.4348ZM89.5231 45.4348C89.9631 45.4348 90.2898 45.3214 90.5031 45.0948C90.7298 44.8681 90.8431 44.4881 90.8431 43.9548V42.8748C90.8431 42.3681 90.7498 42.0014 90.5631 41.7748C90.3898 41.5481 90.1098 41.4348 89.7231 41.4348H88.7231V45.4348H89.5231Z" fill="black"/>
                        </svg>
                    </a>
                </div>
                <Dropdown>
                    <Dropdown.Trigger>
                        <div css={userIconWrap}>
                            <img src={user.image} alt='ユーザーアイコン'  css={userIcon} />
                            <div css={userIconTriangle}></div>
                        </div>
                    </Dropdown.Trigger>
                    <Dropdown.Content>
                        <Dropdown.Link href=''>マイページ</Dropdown.Link>
                        <Dropdown.Link href={route('logout')} method="post" as="button">ログアウト</Dropdown.Link>
                    </Dropdown.Content>
                </Dropdown>
            </div>
        </>
    )
}